# Python data handling

이번 강의에서는 파이썬에서 다룰 수 있는 CSV, 웹, XML, JSON 네 가지 데이터 타입에 대해서 배웁니다.

CSV 파일 포맷은 어떠한 프로그래밍 언어든 데이터를 다루는 분야에서 가장 기본이 되는 타입형태입니다. 

우리가 계속 써온 데이터 저장형태인 엑셀의 텍스트 데이터 형태로 이해하시면 됩니다. 

매우 중요한 데이터 타입으로 파이썬으로 핸들링하는 것에 익숙해지는 것이 필요합니다.

다음으로 웹입니다. 우리 모두가 알고 있듯이 이미 웹은 우리 세상에서 가장 많은 정보를 제공하고 가장 많은 시간을 사용하고 있는 공간입니다. 

우리는 현재 매일 쓰고 있는 웹에서 가장 많은 정보를 얻고 있습니다. 이번 챕터에서 우리는 이 정보를 어떻게 자동으로 확보할 것인지에 대해서 배웁니다. 

먼저 기본적인 웹을 표현하는 가장 기본적인 언어인 HTML에 대해서 배웁니다. 

HTML은 웹에서 나타나는 정보의 표현 방법 중 가장 대표적인 방법으로 거의 모든 정보를 HTML 분석으로 얻을 수가 있습니다. 

다음으로 그 HTML을 분석하기 위해 대표적인 방법인 정규표현식(regex)에 대해서 배우게 됩니다. 

정규표현식은 텍스트 데이터 분석에 있어 가장 대표적인 분석 방법으로, HTML외에도 다양한 유형의 텍스트에서 특정 정보를 뽑아내는데 사용합니다.

마지막으로 데이터를 저장하는 다양한 포멧중 하나인 XML(eXtensible Markup Languages)과 JSON(JavaScript Object Notation)에 대해서 다루도록 하겠습니다. 

XML 프로그래밍 언어에서 데이터를 저장하고 불러오는 전통적인 파일포맷은 흔히 레거시 시스템(오래전에 구축된 시스템)에서 raw파일을 저장하는 대표적인 포맷입니다. 

JSON은 이와 달리 모바일이 활발히 사용되면서 사용되기 시작하는 저장 포맷으로 웹에서 많이 사용되는 JavaScript의 문법을 활용하여 저장하는 포맷입니다.

## 1. Comma separate values (CSV)

- CSV, 필드를 쉼표(,) 로 구분한 텍스트 파일
- 엑셀 양식의 데이터를 프로그램에 상관없이 쓰기 위한 데이터 형식이라고 생각하면 쉬움
- 탭(TSV), 빈칸(SSV) 등으로 구분해서 만들기도 함
- 통칭하여 character-sepㅁrated values (CSV) 부름

## 2. HTML

- World Wide Web(WWW), 줄여서 웹이라고 부름
- 우리가 늘 쓰는 인터넷 공간의 정식 명칭

- 웹 상의 정보를 구조적으로 표현하기 위한 언어
- 제목, 단락, 링크 등 요소 표시를 위해 Tag를 사용
- 모든 요소들은 꺾쇠 괄호 안에 둘러 쌓여 있음
  - <title> Hello, World </title>  # 제목 요소, 값은 Hello, World
- 모든 HTML은 트리 모양의 포함관계를 가짐
- 일반적으로 웹 페이지의 HTML 소스파일은 컴퓨터가 다운로드 받은 후 웹 브라우저가 해석/표시

- 정규식 (regular expression)
  - 정규 표현식, regexp 또는 regex 등으로 불림
  - 복잡한 문자열 패턴을 정의하는 문자 표현 공식
  - 특정한 규칙을 가진 문자열의 집합을 추출
  - 문법 자체는 매우 방대, 스스로 찾아서 공부 필요
  - 정규식 연습장 (https://www.regexr.com/)

- 정규식 기본문법
  - 문자클래스 [a-z]
  - `.` 전체를 의미
  - `*` 앞에 문자를 반복
  - `+` 앞에 문자를 1회 이상 반복
  - {m, n} m이상 n이하 반복
  - `?` 반복 횟수가 1번
  - `|` or 의미
  - `^` not 의미


- 정규식 in 파이썬
  - re 모듈을 import 하여 사용 : import re
  - 함수 : search - 한 개만 찾기, findall - 전체 찾기
  - 추출된 패턴은 tuple로 반환됨

## 3. XML (eXtensible Markup Language)

- 데이터의 구조와 의미를 설명하는 TAG(MarkUp)를 사용하여 표시하는 언어
- TAG와 TAG사이에 값이 표시되고, 구조적인 정보를 표현할 수 있음
- HTML과 문법이 비슷, 대표적인 데이터 저장 방식

- XML Parsing in Python
  - XML도 HTML과 같이 구조적 markup 언어
  - 정규표현식으로 Parsing이 가능함
  - 그러나 좀 더 손쉬운 도구들이 개발 되어 있음
  - 가장 많이 쓰이는 parser인 beautifulsoup으로 파싱

## 4. JSON (JavaScript Object Notation)

- 원래 웹 언어인 Java Script의 데이터 객체 표현 방식
- 간결성으로 기계/인간이 모두 이해하기 편함
- 데이터 용량이 적고, Code로의 전환이 쉬움
- python dictionary와 유사

- JSON in Python
  - json 모듈을 사용하여 손 쉽게 파싱 및 저장 가능
  - 데이터 저장 및 읽기는 dict type과 상호 호환 가능
  - 웹에서 제공하는 API는 대부분 정보 교환 시 JSON 활용
  - 페이스북, 트위터, Github 등 거의 모든 사이트에서 사용
  - 각 사이트 마다 Developer API의 활용법을 찾아 사용
















